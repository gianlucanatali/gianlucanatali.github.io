<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>9 Steps to Build a Real-Time Scoreboard With Confluent Cloud</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<style>
 
 .listingblock:hover .clipboard {
  opacity: 1;
 }

 .clipboard {
  opacity: 0;
     padding: 2px 6px;
     border: 1px solid #d5d5d5;
     font-size: 13px;
     white-space: nowrap;
     font-weight: 500;
     -webkit-appearance: button;
     color: #999;
     line-height: 20px;
     cursor: pointer;
     position: absolute;
     vertical-align: middle;
     background-color: #eee;
     background-image: linear-gradient(#fcfcfc,#eee);
     border-radius: 3px;
     background-repeat: no-repeat;
     top: .85rem !important;
     right: 0.85rem;
     transition: opacity .25s cubic-bezier(0.4, 0, 1, 1);
 }

.clippy {
    margin-top: -10px;
    position: relative;
    top: 3px;
    left: 1px;
}

.clipboard:hover {
  background-image: linear-gradient(#eee,#d3d4d4);
}

.clipboard:active,.clipboard.selected,.clipboard.zeroclipboard-is-active {
    background-color: #dcdcdc;
    background-image: none;
    border-color: #b5b5b5;
    box-shadow: inset 0 2px 4px rgba(0,0,0,.15)
}

</style>
<script>
 $(function() {
     var pre = document.getElementsByTagName('pre');
     for (var i = 0; i < pre.length; i++) {
         var b = document.createElement('button');
         b.innerHTML = '<img class="clippy" src="images/clippy.svg" alt="Copy to clipboard">';
         b.setAttribute('data-clipboard-text', pre[i].textContent);
         b.className = 'clipboard';
         pre[i].appendChild(b);
     }
     new ClipboardJS('.clipboard', {
         target: function(b) {
             var p = b.parentNode;
             return p.className.includes("highlight")
                  ? p.getElementsByClassName("code")[0]
                  : p.childNodes[0];
         }
     })
 });
</script>
<style><style>


/* latin-ext */
@font-face {
  font-family: "MarkOT";
  font-style: normal;
  font-weight: normal;
  src: local("Mark OT"), local("Mark-OT"), url("https://cdn.confluent.io/fonts/MarkOT/MarkOT.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: italic;
  font-weight: normal;
  src: local("Mark OT"), local("Mark-OT"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-Italic.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: normal;
  font-weight: 500;
  src: local("Mark OT"), local("Mark-OT"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-Medium.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: italic;
  font-weight: 500;
  src: local("Mark OT"), local("Mark-OT"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-MediumItalic.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: normal;
  font-weight: bold;
  src: local("Mark OT Bold"), local("Mark-OT-Bold"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-Bold.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: italic;
  font-weight: bold;
  src: local("Mark OT Bold"), local("Mark-OT-Bold"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-BoldItalic.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: normal;
  font-weight: 300;
  src: local("Mark OT Narrow Light"), local("Mark-OT-Narrow-Light"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-NarrowLight.woff2") format("woff2");
}

@font-face {
  font-family: "MarkOT";
  font-style: italic;
  font-weight: 300;
  src: local("Mark OT Narrow Light"), local("Mark-OT-Narrow-Light"),
    url("https://cdn.confluent.io/fonts/MarkOT/MarkOT-NarrowLightItalic.woff2") format("woff2");
}


/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: MarkOT; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0;  }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 1.9em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #ffffff; color: #222222; padding: 0; margin: 0; font-family: "MarkOT", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.stretch { width: 100%; }

p.lead { font-size: 1.15625em; line-height: 1.69; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #4d4d4d; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #4597CB; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #4597CB; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: 'MarkOT', "Helvetica Neue", Helvetica, "Liberation Sans", Arial, sans-serif; font-weight: normal; font-size: 1.0em; line-height: 1.69; margin-bottom: 1.375em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "MarkOT", "Helvetica Neue", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #173361; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #4d4d4d; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: monospace; font-size: 1.1em; font-weight: normal; color: #000000; line-height: 1.69; }

/* Lists */
ul, ol, dl { font-size: 0.9375em; line-height: 1.4; margin-bottom: 1.375em; list-style-position: outside; font-family: "MarkOT", Helvetica, "Liberation Sans", Arial, sans-serif; }

ul, ol { margin-left: 1.625em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.625em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #404040; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.375em; padding: 0 0 0 1em; border-left: 5px solid #ededed; }
blockquote cite { display: block; font-size: 0.8125em; color: #333333; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #333333; }

blockquote, blockquote p { line-height: 1.4; color: #404040; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.4875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

:not(pre):not([class^=L]) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 1px 4px; background-color: #eff1f1; border: 1px solid #d4d9d9; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; word-wrap: break-word; }

:not(pre) > code.nobreak { word-wrap: normal; }
:not(pre) > code.nowrap { white-space: nowrap; }

pre { color: #000000; font-family: monospace,Menlo, Monaco, "Liberation Mono", Consolas; line-height: 1.69; -webkit-font-smoothing: antialiased; font-weight: normal; }
pre code, pre pre { color: inherit; font-size: inherit; line-height: inherit; }
pre > code { display: block; }

pre.nowrap, pre.nowrap pre { white-space: pre; word-wrap: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #737373; }

kbd { font-family: Menlo, Monaco, "Liberation Mono", Consolas, monospace; display: inline-block; color: #404040; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

/* Control max width here */
#header , #content, #footnotes, #footer {  width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 1150px; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before {content:url(./images/confluent-logo-300.png);} #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { background:#ffffff; color: #173361; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #666666; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #829494; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #333333; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #404040; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #404040; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1em; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #ffffff; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "MarkOT", "Helvetica Neue", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #4d4d4d; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background: #e5e5e5; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #cccccc; margin-bottom: 1.25em; padding: 1.25em; background: #e5e5e5; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background: white; padding: 1.25em; }

#footer-text { color: #666666; line-height: 1.26; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: black; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: black; }

details, .audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

details > summary:first-of-type { cursor: pointer; display: list-item; outline: none; margin-bottom: 0.75em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock.fit-content > caption.title { white-space: nowrap; width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: 1.15625em; line-height: 1.6; color: black; }

table.tableblock #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "MarkOT", "Helvetica Neue", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #333333; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #cccccc; margin-bottom: 1.25em; padding: 1.25em; background: #e5e5e5; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #c6c6c6; margin-bottom: 1.25em; padding: 1.25em; background: #e0e0e0; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #4d4d4d; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock > .content > pre { border: 0 0 0 2px solid rgba(120, 120, 120, 0.35); -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; overflow-x: auto; padding: 1em 1.5em 0.875em 1.5em; font-size: 0.8125em; }
@media only screen and (min-width: 768px) { .literalblock pre, .listingblock > .content > pre { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .listingblock > .content > pre { font-size: 1em; } }

/* Code blocks */
.literalblock pre, .listingblock > .content > pre:not(.highlight), .listingblock > .content > pre[class="highlight"], .listingblock > .content > pre[class^="highlight "] { border:1px #f9f9fa solid; background: #f9f9fa; border-radius: 4px; font-family:monospace; font-size:1.1em}

.literalblock.output pre { color: #eff1f1; background-color: #3b3b3b; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: inherit; opacity: 0.5; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: inherit; opacity: 0.5; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em 1.5em 0.875em 1.5em; -webkit-border-radius: 0; border-radius: 0; }

.prettyprint { background: #eff1f1; }

pre.prettyprint .linenums { line-height: 1.6; margin-left: 2em; }

pre.prettyprint li { background: none; list-style-type: inherit; padding-left: 0; }

pre.prettyprint li code[data-lang]:before { opacity: 1; }

pre.prettyprint li:not(:first-child) code[data-lang]:before { display: none; }

table.linenotable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }
table.linenotable td[class] { color: inherit; vertical-align: top; padding: 0; line-height: inherit; white-space: normal; }
table.linenotable td.code { padding-left: 0.75em; }
table.linenotable td.linenos { border-right: 1px solid currentColor; opacity: 0.35; padding-right: 0.5em; }

pre.pygments .lineno { border-right: 1px solid currentColor; opacity: 0.35; display: inline-block; margin-right: 0.75em; }
pre.pygments .lineno:before { content: ""; margin-right: -0.125em; }

.quoteblock { margin: 0 1em 1.375em 1.5em; display: table; }
.quoteblock:not(.excerpt) > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock p { background-color: #fff; color: #666666; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #4d4d4d; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.75em; margin-right: 0.5ex; text-align: right; }

.verseblock { margin: 0 1em 1.375em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #404040; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #333333; }

.quoteblock.abstract blockquote:before, .quoteblock.excerpt blockquote:before, .quoteblock .quoteblock blockquote:before { display: none; }
.quoteblock.abstract blockquote, .quoteblock.abstract p, .quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { line-height: 1.6; word-spacing: 0; }
.quoteblock.abstract { margin: 0 1em 1.375em 1em; display: block; }
.quoteblock.abstract > .title { margin: 0 0 0.375em 0; font-size: 1.15em; text-align: center; }
.quoteblock.excerpt > blockquote, .quoteblock .quoteblock { padding: 0 0 0.25em 1em; border-left: 0.25em solid #dddddd; }
.quoteblock.excerpt, .quoteblock .quoteblock { margin-left: 0; }
.quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { color: inherit; font-size: 1.0625rem; }
.quoteblock.excerpt .attribution, .quoteblock .quoteblock .attribution { color: inherit; text-align: left; margin-right: 0; }

table.tableblock { max-width: 100%; border-collapse: separate; }

p.tableblock:last-child { margin-bottom: 0; }

td.tableblock > .content { margin-bottom: 1.375em; }
td.tableblock > .content > :last-child { margin-bottom: -1.375em; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot, table.frame-ends { border-width: 1px 0; }

table.stripes-all tr, table.stripes-odd tr:nth-of-type(odd), table.stripes-even tr:nth-of-type(even), table.stripes-hover tr:hover { background: #f9f9f9; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

ol { margin-left: 1.875em; }

ul li ol { margin-left: 1.625em; }

dl dd { margin-left: 2em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.6875em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.6875em -1.375em; }

ul.inline > li { margin-left: 1.375em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.375em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #004c73; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f12a"; color: #D8365D; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #404040; -webkit-border-radius: 50%; border-radius: 50%; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

#header {padding-top:2.9em;} #content, #footnotes { background: white; padding-left: 2.5em; padding-right: 2.5em; }

#header { margin-bottom: 0; }
#header > h1 { border-bottom: none; }

.literalblock pre, .listingblock pre { background: #f9f9fa; }

#footnotes { margin-bottom: 2em; }

.sect1 { padding-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .olist, .olist .ulist { margin-bottom: 0.34375em; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book">
<div id="header">
<h1>9 Steps to Build a Real-Time Scoreboard With Confluent Cloud</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_requirements">Requirements</a></li>
<li><a href="#_pre_work_steps_1_3">Pre-Work (Steps 1-3)</a></li>
<li><a href="#_step_3_clone_this_repo">Step 3. Clone this repo</a></li>
<li><a href="#_configure_and_deploy_steps_4_5">Configure and deploy (Steps 4-5)</a></li>
<li><a href="#_set_up_your_scoreboard_steps_6_8">Set up your scoreboard (Steps 6-8)</a></li>
<li><a href="#_destroy_your_resources_step_9">Destroy your resources (Step 9)</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>Streaming Games</strong> is a fun, simple application that ingests and stores event data from online games into Apache Kafka® topics.
Once stored in Kafka topics, game data can be processed in flight using  <a href="https://ksqldb.io/">ksqlDB</a> to create a scoreboard that updates in near-real time.
In this self-paced workshop, you’ll learn how to apply the principles of streaming analytics to create your own scoreboard around the game 2048.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/2048.jpg" alt="2048" width="300" height="386">
</div>
</div>
<div class="paragraph">
<p>The scoreboard will be a table containing aggregated metrics of players include their:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Highest score</p>
</li>
<li>
<p>Highest level achieved</p>
</li>
<li>
<p>Number of losses</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The scoreboard will continuously update as queries process new events as they occur.</p>
</div>
<div class="paragraph">
<p>To keep things simple, you’ll be using <a href="https://confluent.cloud">Confluent Cloud</a>. Powered by the cloud-native <a href="https://www.confluent.io/blog/cloud-native-data-streaming-kafka-engine/">Kora engine</a>, this fully managed Kafka service will make it easy for you to leverage both the Kafka cluster and ksqlDB powering your streaming scoreboard.</p>
</div>
<div class="paragraph">
<p><strong>Streaming Games</strong> is the funniest application that you ever see while applying principles of streaming analytics using <a href="https://confluent.cloud">Confluent Cloud</a>. Built around the different games, this application ingest and store events from the game into Kafka topics and allow you to process them in near real-time using <a href="https://ksqldb.io/">ksqlDB</a>. In order to keep you focused this application is based on fully managed services in Confluent Cloud for both the Apache Kafka cluster (using Confluent Cloud KORA engine) as well as ksqlDB.</p>
</div>
<div class="paragraph">
<p>To implement streaming analytics in the game we built a  <a href="statements.sql">scoreboard using ksqlDB</a>. The scoreboard will be a table containing aggregated metrics of the players such as their highest score, the highest level achieved, and the number of times that the player loses. As new events arrive the scoreboard gets instantly updated by the continuous queries that keep processing those events as they happen.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements">Requirements</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Java, Maven, and Terraform</strong> - The UI layer of the application relies on two APIs that are implemented using Java. You will need to have Java 11+ installed to build the source-code. The build itself is implemented using Maven, and it is triggered automatically by Terraform. You will need to have Terraform 0.14+ installed locally using your cloud provider credentials so <a href="https://www.terraform.io">Terraform</a> can create and manage the resources for you.</p>
</li>
<li>
<p><strong>Confluent Cloud CLI</strong> - During the demo setup, a bash script will set up the whole Confluent Cloud environment for you. To do that it will need to have the Confluent Cloud CLI installed locally. You can find instructions about how to install it <a href="https://docs.confluent.io/current/cloud/cli/index.html">here</a>. v1.7.0 or later is required, logged in with the <code>--save</code> argument which saves your Confluent Cloud user login credentials or refresh token (in the case of SSO) to the local <code>netrc</code> file.</p>
</li>
<li>
<p><strong>AWS and Confluent Cloud accounts</strong> - This workshop runs on AWS and uses Confluent Cloud to manage the Kafka cluster and ksqlBD. If you do not have a Confluent Cloud account, you can create it with instructions below.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pre_work_steps_1_3">Pre-Work (Steps 1-3)</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Follow this part carefully before the workshop!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_step_1_install_workshop_dependencies">Step 1. Install workshop dependencies</h3>
<div class="paragraph">
<p>Run the following command to install workshop dependencies</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">brew install terraform \
mvn \
jq \
awscli \
confluent-cli</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_set_up_your_confluent_cloud_account_and_cli">Step 2. Set up your Confluent Cloud account and CLI</h3>
<div class="paragraph">
<p><strong>Step 2a.</strong> <a href="https://login.confluent.io/login">Log in</a> to Confluent Cloud or <a href="https://www.confluent.io/confluent-cloud/tryfree/?utm_campaign=tm.campaigns_cd.Q223_EMEA_AWS-Pacman-Workshop&amp;utm_source=marketo&amp;utm_medium=workshop">sign up</a>  for Confluent Cloud account.
If you want you can create a Confluent Cloud account also from  <a href="https://www.confluent.io/partner/amazon-web-services/?utm_campaign=tm.campaigns_cd.mp-workshop-pacman-emea-awsmarketplace&amp;utm_medium=marketingemail">AWS Marketplace</a></p>
</div>
<div class="paragraph">
<p><strong>Step 2b.</strong> Create a Cloud API Key</p>
</div>
<div class="paragraph">
<p>Once inside your Confluent Cloud UI:
* Open the <a href="https://confluent.cloud/settings/api-keys/create">Confluent Cloud Console</a>, click the <strong>Granular Access</strong> tab, and then click <strong>Next</strong>.
* Click <strong>Create a New One</strong> to create a tab. Enter the new service account name (<code>tf_runner</code>), then click <strong>Next</strong>.</p>
</div>
<div class="paragraph">
<p>The Cloud API key and secret are then generated for the tf_runner service account.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Next, save your Cloud API key and secret in a secure location. (You will need this API key and secret to use the Confluent Terraform Provider.)</p>
</li>
<li>
<p>Assign the <code>OrganizationAdmin</code> role to the <code>tf_runner</code> service account by following <a href="https://docs.confluent.io/cloud/current/access-management/access-control/cloud-rbac.html#add-a-role-binding-for-a-user-or-service-account">this documentation</a> on role-based access control (RBAC) in Confluent Cloud.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/confluentinc/terraform-provider-confluent/raw/master/docs/images/OrganizationAdmin.png" alt="Assigning the OrganizationAdmin role to tf_runner service account">
</div>
</div>
<div class="paragraph">
<p><strong>Step 2c.</strong> Configure the Confluent CLI</p>
</div>
<div class="paragraph">
<p>Log in to the Confluent Cloud CLI and run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">confluent login --save</code></pre>
</div>
</div>
<div class="paragraph">
<p>The --save flag will save your Confluent Cloud login credentials to the ~/.netrc file.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_clone_this_repo">Step 3. Clone this repo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using your Terminal, run the following command to clone the Streaming Scorecard github repo to your local machine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git clone https://github.com/gianlucanatali/streaming-games.git
cd streaming-games</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configure_and_deploy_steps_4_5">Configure and deploy (Steps 4-5)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_4_configure_the_deployment">Step 4. Configure the deployment</h3>
<div class="paragraph">
<p>The whole workshop creation is scripted. The script will leverage Terraform to spin up the other resources needed in AWS.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As mentioned previously, the application uses a Kafka cluster running in a fully managed Kafka service. Therefore, the first thing the application will provision is Confluent Cloud resources using the Confluent Cloud CLI.</p>
</div>
<div class="paragraph">
<p>If you are interested in learning how you can create a cluster in Confluent Cloud via the Web UI, check out this documentation: <a href="https://docs.confluent.io/current/quickstart/cloud-quickstart/index.html">Quick Start for Confluent Cloud</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Complete the following steps and run the associate commands for each to configure the application for deployment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create the <code>demo.cfg</code> file using the example provided in the config folder</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cp config/demo.cfg.example config/demo.cfg</code></pre>
</div>
</div>
</li>
<li>
<p>Provide the required information on the <code>demo.cfg</code> file</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>we advise using the utility <a href="https://github.com/Nike-Inc/gimme-aws-creds">gimme-aws-creds</a> if you use Okta to login in AWS. You can also use the <a href="https://granted.dev/">granted</a> CLI for AWS credentials.</p>
</div>
<div class="paragraph">
<p>Amend any of the config, AWS region, or Schema Registry region based on your preferences.</p>
</div>
<div class="paragraph">
<p>For region choose one of:  eu-central-1 , us-east-1 , ap-southeast-2  (check the <a href="https://docs.confluent.io/cloud/current/stream-governance/packages.html#aws-long-aws-regions">Stream Governance - Essential package documentation</a> as this requirement could change).
More regions are available in the <a href="https://docs.confluent.io/cloud/current/stream-governance/packages.html#packages">Advanced package</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">export TF_VAR_aws_profile="&lt;AWS_PROFILE&gt;"
export TF_VAR_aws_region="eu-west-2"
export TF_VAR_schema_registry_region="eu-central-1"
export TF_VAR_confluent_cloud_api_key=="&lt;CONFLUENT_CLOUD_API_KEY&gt;"
export TF_VAR_confluent_cloud_api_secret="&lt;CONFLUENT_CLOUD_API_SECRET&gt;"</code></pre>
</div>
</div>
</li>
<li>
<p>If you are not using gimme-aws-creds, create a credential file as described in <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#shared-configuration-and-credentials-files">this Terraform documentation</a>.
The file in <code>~/.aws/credentials</code> should look like the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">[default]
aws_access_key_id=AKIAIOSFODNN7EXAMPLE
aws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can set <code>TF_VAR_aws_profile="default"</code> in the <code>demo.cfg</code> file</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Take note of the optional configuration in the same file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Change the value of  <code>TF_VAR_games_list</code> so that contains only the game 2048.</p>
</li>
<li>
<p>Also make sure the <code>run_as_workshop</code> is set to <code>true</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">###################################################
###########      Optional Configs      ############
###################################################

export TF_VAR_games_list='["2048"]'
export run_as_workshop="true"</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_5_deploying_the_application">Step 5. Deploying the application</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Please note that during deployment, the script takes care of creating the required Kafka topics. There is no need to manually create them.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The application is essentially a set of <a href="https://github.com/gianlucanatali/demo-scene/tree/master/streaming-games/games/2048">HTML/CSS/JS files</a> that forms a microsite that can be hosted statically anywhere.</p>
</div>
<div class="paragraph">
<p>But for the sake of coolness, we will deploy this microsite in a S3 bucket from AWS.</p>
</div>
<div class="paragraph">
<p>This bucket will be created in the same region selected for the Confluent Cloud cluster to ensure that the application will be co-located.</p>
</div>
<div class="paragraph">
<p>The application will emit events that will be processed by an event handler implemented as an API Gateway using a Lambda function on the backend. This event handler API receives the events and writes them into Kafka using ksqlDB.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="images/arch.png" alt="arch">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Start the demo creation</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./start.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>At the end of the provisioning the Output with the demo endpoint will be shown:</p>
</div>
</li>
<li>
<p>Paste the demo url in your browser and start playing!</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Outputs:

Game = https://d************.cloudfront.net/</code></pre>
</div>
</div>
</li>
<li>
<p>Wait for the content to be available</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It could take a bit of time for the content to be available via CloudFront.</p>
</div>
<div class="paragraph">
<p>If accessing the link returned by the script you see an error message like the one below, don’t worry—just give it some more minutes and try the link again.</p>
</div>
<div class="paragraph">
<p>Make sure you are not hitting refresh, as CloudFront might have sent you to a different url. It can take up to one hour for the CloudFront distribution to be available.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/error-cloud-front.png" alt="error cloud front">
</div>
</div>
<div class="paragraph">
<p>You can try to speed up this process using the trick explained in this medium article: <a href="https://medium.com/the-scale-factory/is-your-cloudfront-distribution-stuck-in-progress-7e3aead1337b">Is your CloudFront distribution stuck “in progress”?</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_set_up_your_scoreboard_steps_6_8">Set up your scoreboard (Steps 6-8)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_6_visualize_the_scoreboard">Step 6. Visualize the scoreboard</h3>
<div class="paragraph">
<p>The scoreboard can be visualized in real time by clicking on the SCOREBOARD link in the top right corner of the 2048 game.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You will not be able to use this feature until you create the ksqlDB queries that populate the scoreboard.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/emptyscoreboard.png" alt="2048" width="400">
</div>
</div>
<div class="paragraph">
<p>Before you run your first ksqlDB queries, make sure the data is flowing into Confluent Cloud:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In Confluent UI, go to the environment and the cluster within it that were created by the Terraform script. (It should start with <code>streaming-games</code>.)</p>
</li>
<li>
<p>Next, click on <strong>Topics</strong> and choose <code>USER_GAME</code> topic</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/topicui.png" alt="topicui">
</div>
</div>
<div class="paragraph">
<p>As users engage with the 2048 game, two types of events will be generated.</p>
</div>
<div class="paragraph">
<p>The first is referred to as a "User Game" event which includes information about the user’s current game state, such as their score, level, and remaining lives. This event will be triggered every time the user’s score changes, the user advances to a new level, or the user loses a life.</p>
</div>
<div class="paragraph">
<p>The second type of event is called the "User Losses" event which, as the name suggests, captures data related to the user’s loss in the game. This event is triggered when the player reaches the game-over state.</p>
</div>
<div class="paragraph">
<p>A streaming analytics pipeline will be created to transform these raw events into a table with the scoreboard that is updated in near real-time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pipeline.png" alt="pipeline">
</div>
</div>
<div class="paragraph">
<p>Now that you know that the data is flowing into Confluent, you can create the ksqlDB queries that populate the scoreboard.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_7_run_the_ksqldb_queries">Step 7. Run the ksqlDB queries</h3>
<div class="paragraph">
<p>To implement the streaming analytics pipeline, you’ll need to use ksqlDB.</p>
</div>
<div class="paragraph">
<p>Run the following queries in your ksqlDB instance in Confluent Cloud.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set <code>auto.offset.reset</code> to <code>Earliest</code></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ksqldb-editor-ui.png" alt="ksqldb editor ui">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Create the LOSSES_PER_USER table to count the number of losses for each player.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">CREATE TABLE LOSSES_PER_USER AS
SELECT
  USER_KEY,
  USER_KEY -&gt; USER AS USER,
  USER_KEY -&gt; GAME_NAME AS GAME_NAME,
  COUNT(USER_KEY) AS TOTAL_LOSSES
FROM
  USER_LOSSES
GROUP BY
  USER_KEY;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Create the STATS_PER_USER Table</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">CREATE TABLE STATS_PER_USER AS
SELECT
  UG.USER_KEY AS USER_KEY,
  UG.USER_KEY -&gt; USER AS USER,
  UG.USER_KEY -&gt; GAME_NAME AS GAME_NAME,
  MAX(UG.GAME -&gt; SCORE) AS HIGHEST_SCORE,
  MAX(UG.GAME -&gt; LEVEL) AS HIGHEST_LEVEL,
  MAX(
    CASE WHEN LPU.TOTAL_LOSSES IS NULL THEN CAST(0 AS BIGINT) ELSE LPU.TOTAL_LOSSES END
  ) AS TOTAL_LOSSES
FROM
  USER_GAME UG
  LEFT JOIN LOSSES_PER_USER LPU ON UG.USER_KEY = LPU.USER_KEY
GROUP BY
  UG.USER_KEY;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Now, check the scoreboard to see if it’s populated like the following example.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/scoreboard.png" alt="scoreboard">
</div>
</div>
<div class="sect3">
<h4 id="_the_scoreboard_logic">the scoreboard logic</h4>
<div class="paragraph">
<p>Here’s how the scoreboard logic works—ksqlDB supports <a href="https://docs.ksqldb.io/en/0.14.0-ksqldb/concepts/queries/pull/">pull queries</a>, which allow you to get the latest value for a given key.</p>
</div>
<div class="paragraph">
<p>Pull queries are what allow the 2048 app to show you the scoreboard, updated in near-real time. Each query to the STATS_PER_USER table is sent to ksqlDB to get all the players scores for the selected game.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT
  USER_KEY-&gt;USER,
  HIGHEST_SCORE,
  HIGHEST_LEVEL,
  TOTAL_LOSSES
FROM STATS_PER_USER
WHERE GAME_NAME='2048';</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_destroy_your_resources_step_9">Destroy your resources (Step 9)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(&#8230;&#8203;and save money!)</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The great thing about using cloud resources is that you can spin them up and down with just a few commands.</p>
</div>
<div class="paragraph">
<p>If you are not planning to use the Streaming Scorecard application again, remember to destroy the resources you created once you are finished with this workshop to avoid incurring additional charges.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Automatically destroy all the resources created using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./stop.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can always spin these resources back up any time you want. Simply uncomment the run_as_workshop variable in the config file to automate the creation of ksqlDB queries and you can demo the app again without any manual effort!</p>
</div>
</div>
</div>
</div>
</body>
</html>